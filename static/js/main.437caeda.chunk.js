(this["webpackJsonpreact-stater"]=this["webpackJsonpreact-stater"]||[]).push([[0],{36:function(t,e,c){},37:function(t,e,c){},63:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c.n(n),a=c(30),r=c.n(a),s=(c(36),c(37),c(9)),j=c(2),o=c(8),l=c(15),d=c.n(l),b=c(13),u=c(1),O=i.a.createContext(),h=function(t){var e=t.children,c=t.match,i=Object(n.useState)(localStorage.getItem("carts")?JSON.parse(localStorage.getItem("carts")):[]),a=Object(s.a)(i,2),r=a[0],j=a[1];return Object(n.useEffect)((function(){localStorage.setItem("carts",JSON.stringify(r)),console.log("render")}),[r,c]),Object(u.jsx)(O.Provider,{value:{cart:r,setCart:j,addToCart:function(t){var e=r.findIndex((function(e){return e.id===t.id}));-1===e?j((function(e){return[].concat(Object(b.a)(e),[{id:t.id,title:t.title,price:t.price,total_price:t.price,quantity:1}])})):(r[e].quantity+=1,r[e].total_price=r[e].quantity*r[e].price,localStorage.setItem("carts",JSON.stringify(r)),j(r))}},children:e})};function x(){var t=Object(j.f)().id,e=Object(n.useState)([]),c=Object(s.a)(e,2),i=c[0],a=c[1],r=Object(n.useContext)(O),l=r.cart,b=r.addToCart;Object(n.useEffect)((function(){d.a.get("https://fakestoreapi.com/products/".concat(t)).then((function(t){a(t.data)}))}),[t]);return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("button",{children:Object(u.jsxs)(o.b,{to:"/cart",children:["Cart item : ",l.length]})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-12 mt-5",children:[Object(u.jsx)("img",{src:i.image,alt:"",className:"img-fluid h-25 w-25"}),Object(u.jsx)("h2",{children:i.title})," ",Object(u.jsx)("span",{children:i.price}),Object(u.jsx)("span",{children:Object(u.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return function(t){b(t)}(i)},children:"Add to Cart"})})]})})]})})}function m(){var t=Object(n.useContext)(O).addToCart,e=Object(n.useState)([]),c=Object(s.a)(e,2),i=c[0],a=c[1];Object(n.useEffect)((function(){d.a.get("https://fakestoreapi.com/products/").then((function(t){a(t.data)}))}),[]);return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"row",children:i.map((function(e){return Object(u.jsx)("div",{className:"col-4 ",children:Object(u.jsx)("div",{className:"p-3 shadow mb-3 mr-auto",style:{height:"300px"},children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("img",{src:e.image,alt:"",className:"img-fluid w-25 mt-2"}),Object(u.jsx)("h4",{className:"mt-2",children:Object(u.jsx)(o.b,{to:"product/".concat(e.id),children:e.title.substring(0,20)})}),Object(u.jsx)("button",{type:"button",className:"btn btn-info d-block mx-auto mt-2",onClick:function(){t(e)},children:"Add to Cart"})]})})},e.id)}))})})}function p(t){var e=t.match,c=Object(n.useContext)(O).cart;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("button",{type:"button",className:"my-3",children:Object(u.jsxs)(o.b,{to:"/cart",children:["Cart item ",c.length]})}),"/"===e.path&&Object(u.jsx)(m,{})]})})}function f(){var t=Object(n.useContext)(O),e=t.cart,c=t.setCart,i=Object(n.useState)(0),a=Object(s.a)(i,2),r=a[0],j=a[1];Object(n.useEffect)((function(){localStorage.setItem("carts",JSON.stringify(e));var t=0;e.map((function(e){return t+=e.total_price})),j(t)}),[e]);return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("button",{type:"button",className:"my-3",children:["Cart item ",e.length]}),Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Quantity"}),Object(u.jsx)("th",{children:"Price"})]})}),Object(u.jsx)("tbody",{children:e.map((function(t,n){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.title}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{type:"button",onClick:function(){return function(t){e[t].quantity+=1,e[t].total_price=e[t].quantity*e[t].price,c(Object(b.a)(e))}(n)},children:"+"}),Object(u.jsxs)("span",{className:"mx-4",children:[t.quantity," "]}),Object(u.jsx)("button",{type:"button",onClick:function(){return function(t){e[t].quantity>1&&(e[t].quantity-=1,e[t].total_price=e[t].quantity*e[t].price,c(Object(b.a)(e)))}(n)},children:"-"})]}),Object(u.jsx)("td",{children:Object(u.jsx)("p",{children:t.total_price===t.price?(t.quantity*t.price).toFixed(2):t.total_price.toFixed(2)})})]},t.id)}))})]}),Object(u.jsxs)("div",{children:["Total Price : ",r.toFixed(2)]})]})})}c(61),c(62);var g=function(){return Object(u.jsx)(o.a,{children:Object(u.jsx)(h,{children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/",exact:!0,component:p}),Object(u.jsx)(j.a,{path:"/product/:id",component:x}),Object(u.jsx)(j.a,{path:"/cart",exact:!0,component:f})]})})})},v=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,64)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;c(t),n(t),i(t),a(t),r(t)}))};r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),v()}},[[63,1,2]]]);
//# sourceMappingURL=main.437caeda.chunk.js.map